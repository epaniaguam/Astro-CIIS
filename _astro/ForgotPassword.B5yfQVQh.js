import{j as e}from"./jsx-runtime.2X-s0L5T.js";import{r as i}from"./index.DeEakWXg.js";import{s}from"./index.522a1821.BBumnH-X.js";import{u as j,c as v,a as b}from"./index.esm.BXCdRTLJ.js";import{U as y}from"./endpoints.DprMjbcE.js";import{u as d,D as u}from"./Dialog.DmsGN8OU.js";import"./index.35f4d4a6.DGW6ehmJ.js";function O(){const[p,h]=i.useState(!1),[l,c]=i.useState(null),[x,f]=i.useState(null),n=d(),r=d();function g(t=m=>{}){return{initialValues:{email:""},validationSchema:v().shape({email:b().email("Debe ser un email válido").required("Campo obligatorio")}),onSubmit:m=>{t(!0),fetch(y.user.code,{method:"POST",body:JSON.stringify({email:m.email}),headers:{"Content-Type":"application/json"},credentials:"include"}).then(async o=>{if(o.ok)return o.json();throw await o.json()}).then(()=>{f("Se ha enviado el enlace de restauración a su correo electrónico"),n.handleOpen()}).catch(o=>{o?.code?(c(o.reason),r.handleOpen()):(c("Ha ocurrido un error inesperado"),r.handleOpen()),t(!1)})}}}const a=j(g(h));return e.jsxs(e.Fragment,{children:[e.jsx(u,{style:{top:20,position:"fixed"},icon:"success",message:x,open:n.open,onClose:()=>{n.handleClose()}}),l&&e.jsx(u,{style:{top:20,position:"fixed"},icon:"warning",message:l,open:r.open,onClose:r.handleClose}),e.jsxs("div",{className:"p-5 px-8 md:px-12 pt-32 rounded-lg w-[96%] max-w-[768px] mx-auto my-5",children:[e.jsx("h2",{className:"text-center text-primary-600 text-4xl font-bold py-6",children:"Restauración de contraseña"}),e.jsx("p",{className:s.description,children:"Ingresa tu correo electrónico donde se enviara un enlace para restaurar tu contraseña"}),e.jsxs("div",{className:s.formContainer,children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Ingresa tu correo electrónico"}),e.jsx("div",{className:s.inputWrapper,children:e.jsx("input",{type:"email",placeholder:"Ejemplo: example@gmail.com",...a.getFieldProps("email"),className:`${a.touched.email&&a.errors.email?s.inputInvalid:""}`})}),a.touched.email&&a.errors.email?e.jsx("span",{className:`${s.textInvalid}`,children:a.errors.email}):null]}),e.jsx("div",{className:s.submitButtonWrapper,children:e.jsx("button",{type:"button",className:s.submitButton,onClick:t=>a.handleSubmit(t),disabled:p,children:"Enviar"})})]})]})]})}export{O as default};
