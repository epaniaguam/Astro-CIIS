import{j as s}from"./jsx-runtime.2X-s0L5T.js";import{r as x}from"./index.DeEakWXg.js";import{f}from"./format.BTs0qt6a.js";import{U as j}from"./endpoints.DprMjbcE.js";const p=({time:a,lastTime:r,name:n,profession:t,theme:e,img:m})=>{const d=o=>{const c=new Date(o);let u=c.getHours().toString().padStart(2,"0");const g=c.getMinutes().toString().padStart(2,"0");return`${u}:${g}`};return s.jsxs("div",{className:"card-custom grid grid-cols-4 sm:grid-cols-5 rounded-lg sm:rounded-2xl px-2 sm:px-5 py-2 sm:py-5 gap-1 sm:gap-5 text-slate-400 mx-2 border-2 border-slate-800",style:{backgroundColor:"#1a2332"},children:[s.jsxs("span",{className:"text-center sm:text-center font-bold text-sm sm:text-5xl col-span-4 sm:col-span-1 sm:leading-6 my-auto",children:[d(a)," ",s.jsx("span",{className:"text-xs sm:text-3xl",children:"-"})," ",d(r)]}),s.jsxs("div",{className:"col-span-4 sm:col-span-3 sm:pr-2 sm:pl-2",children:[s.jsx("p",{className:"text-sm sm:text-md text-center sm:text-left",children:n}),s.jsx("h4",{className:"font-bold text-sm sm:text-xl text-slate-100/90 text-center sm:text-left",children:e})]}),s.jsx("div",{className:"hidden sm:flex justify-end col-span-4 sm:col-span-1",children:s.jsx("img",{className:"w-[100px] h-[120px] object-cover rounded-xl",src:`https://ciistacna.com/${m}`,alt:"Foto perfil",loading:"lazy",decoding:"async",width:1600,height:900,draggable:"false"})})]})},h=({ponentes:a,day:r,date:n})=>{function t(e){return e.charAt(0).toUpperCase()+e.slice(1)}return s.jsxs("div",{className:"w-full flex flex-col rounded-xl sm:rounded-2xl gap-3 sm:gap-5",children:[s.jsxs("h3",{className:"text-center text-2xl sm:text-4xl font-bold mb-2 sm:mb-4 text-blue-500",children:[t(r)," ",f(new Date(n),"dd/MM/yyyy")]}),t(r)!="Lunes"?s.jsx(l,{classname:"bg-yellow-600",time:"08:30 - 9:00",text:"CONTROL Y REGISTRO DE ASISTENCIA"}):"",t(r)=="Lunes"?s.jsx(l,{classname:"bg-yellow-600",time:"09:00 - 13:00",text:"INFORMES, INSCRIPCIONES"}):"",t(r)=="Miércoles"?s.jsx(l,{classname:"bg-lime-600",time:"09:00 - 11:00",text:"II CALL FOR ABSTRACTS"}):"",a.early.map(e=>s.jsx(p,{time:e.start,lastTime:e.end,name:e.speaker,profession:e.description,theme:e.topic,img:e.avatar},e.id)),s.jsx(l,{classname:"bg-blue-600",time:"13:00 - 14:00",text:"RECESO / ALMUERZO"}),t(r)=="Miércoles"?s.jsx(l,{classname:"bg-yellow-600",time:"14:30 - 15:00",text:"CONTROL Y REGISTRO DE ASISTENCIA"}):"",t(r)=="Miércoles"?s.jsx(l,{classname:"bg-lime-600",time:"15:00 - 16:00",text:"II CALL FOR ABSTRACTS"}):"",t(r)=="Lunes"?s.jsx(l,{classname:"bg-yellow-600",time:"14:00 - 15:30",text:"INFORMES, INSCRIPCIONES"}):"",t(r)=="Lunes"?s.jsx(l,{classname:"bg-blue-600",time:"15:30 - 16:30",text:"INAUGURACIÓN"}):"",t(r)=="Martes"?s.jsx(l,{classname:"bg-violet-600",time:"14:00 - 16:00",text:"CONCURSO DE CONOCIMIENTOS"}):"",t(r)=="Jueves"?s.jsx(l,{classname:"bg-violet-600",time:"14:00 - 16:00",text:"CONCURSO DE PROGRAMACIÓN"}):"",t(r)=="Viernes"?s.jsx(l,{classname:"bg-violet-600",time:"14:00 - 16:00",text:"CONCURSO DE ROBÓTICA"}):"",t(r)!="Lunes"&&t(r)!="Miércoles"?s.jsx(l,{classname:"bg-yellow-600",time:"15:30 - 16:00",text:"CONTROL Y REGISTRO DE ASISTENCIA"}):"",a.late.map(e=>s.jsx(p,{time:e.start,lastTime:e.end,name:e.speaker,profession:e.description,theme:e.topic,img:e.avatar},e.id)),t(r)=="Viernes"?s.jsx(l,{classname:"bg-blue-600",time:"18:00 - 19:00",text:"CLAUSURA"}):""]})},l=({time:a,text:r,classname:n})=>s.jsxs("div",{className:`${a?"grid grid-cols-7 sm:grid-cols-9":"flex items-center justify-center"} rounded-lg sm:rounded-2xl px-2 sm:px-5 py-2 sm:py-4 gap-1 sm:gap-5 mx-2 border-2 border-slate-800 ${n}`,children:[a?s.jsx("span",{className:"font-bold text-sm sm:text-lg col-span-7 sm:col-span-2 text-center",children:a}):"",s.jsx("div",{className:`${a?"flex justify-center sm:justify-start sm:items-start col-span-7":""}`,children:s.jsx("h2",{className:"text-sm sm:text-lg text-white font-semibold tracking-wide sm:tracking-widest text-center",children:r})})]}),i=()=>s.jsxs("div",{className:"grid grid-cols-7 sm:grid-cols-9 rounded-lg sm:rounded-2xl px-2 sm:px-5 py-2 sm:py-4 gap-1 sm:gap-5 mx-2 border-2 border-slate-800 animate-pulse",children:[s.jsx("span",{className:"font-bold text-sm sm:text-lg col-span-7 sm:col-span-2 text-center flex items-center justify-center",children:s.jsx("div",{className:"h-4 sm:h-5 bg-slate-700/50 rounded w-20 sm:w-28"})}),s.jsx("div",{className:"flex justify-center sm:justify-start sm:items-start col-span-7",children:s.jsx("div",{className:"h-4 sm:h-5 bg-slate-700/50 rounded w-48 sm:w-full"})})]}),b=()=>s.jsxs("div",{className:"w-full flex flex-col rounded-xl sm:rounded-2xl gap-3 sm:gap-5",children:[s.jsx("div",{className:"h-8 bg-slate-700/50 rounded w-64 mx-auto mb-2 sm:mb-4 animate-pulse"}),s.jsx(i,{}),s.jsx(i,{}),s.jsx(i,{}),s.jsx(i,{}),s.jsx(i,{})]}),N=()=>s.jsx("div",{className:"w-full flex gap-5 justify-center flex-wrap mb-5",children:[1,2,3,4,5].map(a=>s.jsx("div",{className:"h-10 w-24 bg-slate-700/50 rounded-lg animate-pulse"},a))}),S=async()=>{try{const a=await fetch(j.reports.cronograma);if(!a.ok)throw new Error("Error en la respuesta de la API");return(await a.json()).map(t=>({day:t.day,date:t.date,early:t.early.map(e=>({id:e.id,topic:e.topic,start:e.start,end:e.end,type:e.type,isMorning:e.isMorning,speaker:e.speaker,idSpeaker:e.idSpeaker,country:e.country,description:e.description,avatar:e.avatar})),late:t.late.map(e=>({id:e.id,topic:e.topic,start:e.start,end:e.end,type:e.type,isMorning:e.isMorning,speaker:e.speaker,idSpeaker:e.idSpeaker,country:e.country,description:e.description,avatar:e.avatar}))}))}catch(a){console.error("Error al obtener los datos de los speakers:",a)}},R=()=>{const[a,r]=x.useState([]),[n,t]=x.useState(!0),[e,m]=x.useState(0),d=async()=>{try{t(!0);const o=await S();o?r(o):console.error("No data returned from the API")}catch(o){console.error("Error fetching data:",o)}finally{t(!1)}};return x.useEffect(()=>{d()},[]),s.jsxs("section",{id:"schedules",className:"w-full flex flex-col items-center mb-24 max-w-screen-md mx-auto pt-40 sm:pt-48",children:[s.jsx("h2",{className:"text-4xl font-bold text-center text-secondary sm:text-6xl slide-top leading-relaxed sm:leading-loose",children:"Agenda"}),s.jsxs("p",{className:"text-center text-base mb-8 mt-8",children:["Todas las charlas están en directo por"," ",s.jsx("a",{href:"https://www.facebook.com/ciistacna",target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xl text-blue-300",children:"Facebook"})]}),n?s.jsx(N,{}):s.jsx("div",{className:"w-full flex gap-5 justify-center flex-wrap mb-5",children:a?.map((o,c)=>s.jsx("button",{className:`px-6 py-2 rounded-lg cursor-pointer font-semibold transition-colors ${e===c?"bg-blue-600 text-slate-200":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,onClick:()=>m(c),children:o.day.charAt(0).toUpperCase()+o.day.slice(1)},o.day))}),s.jsx("div",{className:"w-full",children:n?s.jsx(b,{}):a[e]&&s.jsx(h,{day:a[e].day||"",ponentes:a[e],date:a[e].date})})]})};export{R as default};
