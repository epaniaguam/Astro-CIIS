import{j as s}from"./jsx-runtime.2X-s0L5T.js";import{r as d}from"./index.DeEakWXg.js";import{f}from"./format.BTs0qt6a.js";import{U as h}from"./endpoints.DprMjbcE.js";const m=({time:r,lastTime:a,name:l,profession:o,theme:e,img:x})=>{const i=t=>{const n=new Date(t);let p=n.getHours().toString().padStart(2,"0");const u=n.getMinutes().toString().padStart(2,"0");return`${p}:${u}`};return s.jsxs("div",{className:"card-custom grid grid-cols-4 sm:grid-cols-5 rounded-lg sm:rounded-2xl px-2 sm:px-5 py-2 sm:py-5 gap-1 sm:gap-5 text-slate-400 mx-2 border-2 border-slate-800",children:[s.jsxs("span",{className:"text-center sm:text-center font-bold text-sm sm:text-5xl col-span-4 sm:col-span-1 sm:leading-6 my-auto",children:[i(r)," ",s.jsx("span",{className:"text-xs sm:text-3xl",children:"-"})," ",i(a)]}),s.jsxs("div",{className:"col-span-4 sm:col-span-3 sm:pr-2 sm:pl-2",children:[s.jsx("p",{className:"text-sm sm:text-md text-center sm:text-left",children:l}),s.jsx("h4",{className:"font-bold text-sm sm:text-xl text-slate-100/90 text-center sm:text-left",children:e})]}),s.jsx("div",{className:"hidden sm:flex justify-end col-span-4 sm:col-span-1",children:s.jsx("img",{className:"w-[100px] h-[120px] object-cover rounded-xl",src:`https://ciistacna.com/${x}`,alt:"Foto perfil",loading:"lazy",decoding:"async",width:1600,height:900,draggable:"false"})})]})},g=({ponentes:r,day:a,date:l})=>{function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}return s.jsxs("div",{className:"w-full flex flex-col rounded-xl sm:rounded-2xl gap-3 sm:gap-5",children:[s.jsxs("h3",{className:"text-center text-2xl sm:text-4xl font-bold mb-2 sm:mb-4 text-blue-500",children:[o(a)," ",f(new Date(l),"dd/MM/yyyy")]}),o(a)!="Lunes"?s.jsx(c,{classname:"bg-yellow-600",time:"8:30 - 9:00",text:"CONTROL Y REGISTRO DE ASISTENCIA"}):"",o(a)=="Lunes"?s.jsx(c,{classname:"bg-yellow-600",time:"8:30 - 13:00",text:"INFORMES, INSCRIPCIONES"}):"",r.early.map(e=>s.jsx(m,{time:e.start,lastTime:e.end,name:e.speaker,profession:e.description,theme:e.topic,img:e.avatar},e.id)),o(a)=="Miércoles"?s.jsx(c,{classname:"bg-lime-600",time:"09:00 - 13:00",text:"CALL FOR POSTERS"}):"",s.jsx(c,{classname:"bg-blue-600",time:"13:00 - 14:00",text:"RECESO / ALMUERZO"}),o(a)=="Lunes"?s.jsx(c,{classname:"bg-yellow-600",time:"14:00 - 16:00",text:"INFORMES, INSCRIPCIONES"}):"",o(a)=="Martes"?s.jsx(c,{classname:"bg-violet-600",time:"14:00 - 16:00",text:"CONCURSO 1"}):"",o(a)=="Miércoles"?s.jsx(c,{classname:"bg-violet-600",time:"14:00 - 16:00",text:"CONCURSO 2"}):"",o(a)=="Jueves"?s.jsx(c,{classname:"bg-violet-600",time:"14:00 - 16:00",text:"CONCURSO 3"}):"",r.late.map(e=>s.jsx(m,{time:e.start,lastTime:e.end,name:e.speaker,profession:e.description,theme:e.topic,img:e.avatar},e.id)),o(a)=="Lunes"?s.jsx(c,{classname:"bg-blue-600",time:"18:00 - 19:00",text:"INAUGURACIÓN"}):"",o(a)=="Viernes"?s.jsx(c,{classname:"bg-blue-600",time:"18:00 - 19:00",text:"CLAUSURA"}):""]})},c=({time:r,text:a,classname:l})=>s.jsxs("div",{className:`${r?"grid grid-cols-7 sm:grid-cols-9":"flex items-center justify-center"} rounded-lg sm:rounded-2xl px-2 sm:px-5 py-2 sm:py-4 gap-1 sm:gap-5 mx-2 border-2 border-slate-800 ${l}`,children:[r?s.jsx("span",{className:"font-bold text-sm sm:text-lg col-span-7 sm:col-span-2 text-center",children:r}):"",s.jsx("div",{className:`${r?"flex justify-center sm:justify-start sm:items-start col-span-7":""}`,children:s.jsx("h2",{className:"text-sm sm:text-lg text-white font-semibold tracking-wide sm:tracking-widest text-center",children:a})})]}),j=async()=>{try{const r=await fetch(h.reports.cronograma);if(!r.ok)throw new Error("Error en la respuesta de la API");return(await r.json()).map(o=>({day:o.day,date:o.date,early:o.early.map(e=>({id:e.id,topic:e.topic,start:e.start,end:e.end,type:e.type,isMorning:e.isMorning,speaker:e.speaker,idSpeaker:e.idSpeaker,country:e.country,description:e.description,avatar:e.avatar})),late:o.late.map(e=>({id:e.id,topic:e.topic,start:e.start,end:e.end,type:e.type,isMorning:e.isMorning,speaker:e.speaker,idSpeaker:e.idSpeaker,country:e.country,description:e.description,avatar:e.avatar}))}))}catch(r){console.error("Error al obtener los datos de los speakers:",r)}},S=()=>{const r=d.useRef(null),[a,l]=d.useState([]),o=async()=>{try{const t=await j();t?l(t):console.error("No data returned from the API")}catch(t){console.error("Error fetching data:",t)}};d.useEffect(()=>{o()},[]);const e=t=>{if(r.current){const n=document.getElementById(`day-${t}`);n&&r.current.scrollTo({left:n.offsetLeft,behavior:"smooth"})}},[x,i]=d.useState("720px");return s.jsxs("section",{id:"schedules",className:"w-full flex flex-col items-center mb-24 max-w-screen-md mx-auto pt-40 sm:pt-48",children:[s.jsx("h2",{className:"text-4xl font-bold text-center text-secondary sm:text-6xl slide-top",children:"Cronograma"}),s.jsxs("p",{className:"text-center text-base mb-8 mt-8",children:["Todas las charlas estan en directo por"," ",s.jsx("a",{href:"https://www.facebook.com/61556532988025/live_videos/",target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xl text-blue-300",children:"Facebook"})]}),s.jsx("div",{className:"w-full flex gap-5 justify-center flex-wrap mb-5",children:a?.map(t=>s.jsx("button",{className:"px-6 py-2 rounded-lg cursor-pointer text-slate-200 bg-blue-600 font-semibold hover:bg-slate-900 active:bg-slate-900",onClick:()=>{e(t.day),i(()=>{switch(t.day){case"lunes":return"720px";case"martes":return"1520px";case"miércoles":return"1200px";case"jueves":return"1200px";case"viernes":return"1520px";default:return"auto"}})},children:t.day.charAt(0).toUpperCase()+t.day.slice(1)},t.day))}),s.jsx("div",{ref:r,className:"w-full relative overflow-hidden scroll-smooth scroll-mx-12 flex justify-start gap-10 rounded-2xl",children:a?.map((t,n)=>s.jsx("div",{id:`day-${t.day}`,className:`w-full flex-shrink-0 h-[${x}]`,children:s.jsx(g,{day:t.day||"",ponentes:t,date:t.date})},t.day))})]})};export{S as default};
