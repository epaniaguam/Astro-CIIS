import{j as e}from"./jsx-runtime.2X-s0L5T.js";import{r as x}from"./index.DeEakWXg.js";import{f}from"./format.BTs0qt6a.js";import{U as h}from"./endpoints.DprMjbcE.js";const p=({time:t,lastTime:r,name:n,profession:a,theme:s,img:m})=>{const d=l=>{const c=new Date(l);let u=c.getHours().toString().padStart(2,"0");const g=c.getMinutes().toString().padStart(2,"0");return`${u}:${g}`};return e.jsxs("div",{className:"card-custom grid grid-cols-4 sm:grid-cols-5 rounded-lg sm:rounded-2xl px-2 sm:px-5 py-2 sm:py-5 gap-1 sm:gap-5 text-slate-400 mx-2 border-2 border-slate-800",children:[e.jsxs("span",{className:"text-center sm:text-center font-bold text-sm sm:text-5xl col-span-4 sm:col-span-1 sm:leading-6 my-auto",children:[d(t)," ",e.jsx("span",{className:"text-xs sm:text-3xl",children:"-"})," ",d(r)]}),e.jsxs("div",{className:"col-span-4 sm:col-span-3 sm:pr-2 sm:pl-2",children:[e.jsx("p",{className:"text-sm sm:text-md text-center sm:text-left",children:n}),e.jsx("h4",{className:"font-bold text-sm sm:text-xl text-slate-100/90 text-center sm:text-left",children:s})]}),e.jsx("div",{className:"hidden sm:flex justify-end col-span-4 sm:col-span-1",children:e.jsx("img",{className:"w-[100px] h-[120px] object-cover rounded-xl",src:`https://ciistacna.com/${m}`,alt:"Foto perfil",loading:"lazy",decoding:"async",width:1600,height:900,draggable:"false"})})]})},j=({ponentes:t,day:r,date:n})=>{function a(s){return s.charAt(0).toUpperCase()+s.slice(1)}return e.jsxs("div",{className:"w-full flex flex-col rounded-xl sm:rounded-2xl gap-3 sm:gap-5",children:[e.jsxs("h3",{className:"text-center text-2xl sm:text-4xl font-bold mb-2 sm:mb-4 text-blue-500",children:[a(r)," ",f(new Date(n),"dd/MM/yyyy")]}),a(r)!="Lunes"?e.jsx(o,{classname:"bg-yellow-600",time:"8:30 - 9:00",text:"CONTROL Y REGISTRO DE ASISTENCIA"}):"",a(r)=="Lunes"?e.jsx(o,{classname:"bg-yellow-600",time:"8:30 - 13:00",text:"INFORMES, INSCRIPCIONES"}):"",t.early.map(s=>e.jsx(p,{time:s.start,lastTime:s.end,name:s.speaker,profession:s.description,theme:s.topic,img:s.avatar},s.id)),a(r)=="Miércoles"?e.jsx(o,{classname:"bg-lime-600",time:"09:00 - 13:00",text:"CALL FOR POSTERS"}):"",e.jsx(o,{classname:"bg-blue-600",time:"13:00 - 14:00",text:"RECESO / ALMUERZO"}),a(r)=="Lunes"?e.jsx(o,{classname:"bg-yellow-600",time:"14:00 - 16:00",text:"INFORMES, INSCRIPCIONES"}):"",a(r)=="Martes"?e.jsx(o,{classname:"bg-violet-600",time:"14:00 - 16:00",text:"CONCURSO 1"}):"",a(r)=="Miércoles"?e.jsx(o,{classname:"bg-violet-600",time:"14:00 - 16:00",text:"CONCURSO 2"}):"",a(r)=="Jueves"?e.jsx(o,{classname:"bg-violet-600",time:"14:00 - 16:00",text:"CONCURSO 3"}):"",t.late.map(s=>e.jsx(p,{time:s.start,lastTime:s.end,name:s.speaker,profession:s.description,theme:s.topic,img:s.avatar},s.id)),a(r)=="Lunes"?e.jsx(o,{classname:"bg-blue-600",time:"18:00 - 19:00",text:"INAUGURACIÓN"}):"",a(r)=="Viernes"?e.jsx(o,{classname:"bg-blue-600",time:"18:00 - 19:00",text:"CLAUSURA"}):""]})},o=({time:t,text:r,classname:n})=>e.jsxs("div",{className:`${t?"grid grid-cols-7 sm:grid-cols-9":"flex items-center justify-center"} rounded-lg sm:rounded-2xl px-2 sm:px-5 py-2 sm:py-4 gap-1 sm:gap-5 mx-2 border-2 border-slate-800 ${n}`,children:[t?e.jsx("span",{className:"font-bold text-sm sm:text-lg col-span-7 sm:col-span-2 text-center",children:t}):"",e.jsx("div",{className:`${t?"flex justify-center sm:justify-start sm:items-start col-span-7":""}`,children:e.jsx("h2",{className:"text-sm sm:text-lg text-white font-semibold tracking-wide sm:tracking-widest text-center",children:r})})]}),i=()=>e.jsxs("div",{className:"grid grid-cols-7 sm:grid-cols-9 rounded-lg sm:rounded-2xl px-2 sm:px-5 py-2 sm:py-4 gap-1 sm:gap-5 mx-2 border-2 border-slate-800 animate-pulse",children:[e.jsx("span",{className:"font-bold text-sm sm:text-lg col-span-7 sm:col-span-2 text-center flex items-center justify-center",children:e.jsx("div",{className:"h-4 sm:h-5 bg-slate-700/50 rounded w-20 sm:w-28"})}),e.jsx("div",{className:"flex justify-center sm:justify-start sm:items-start col-span-7",children:e.jsx("div",{className:"h-4 sm:h-5 bg-slate-700/50 rounded w-48 sm:w-full"})})]}),b=()=>e.jsxs("div",{className:"w-full flex flex-col rounded-xl sm:rounded-2xl gap-3 sm:gap-5",children:[e.jsx("div",{className:"h-8 bg-slate-700/50 rounded w-64 mx-auto mb-2 sm:mb-4 animate-pulse"}),e.jsx(i,{}),e.jsx(i,{}),e.jsx(i,{}),e.jsx(i,{}),e.jsx(i,{})]}),N=()=>e.jsx("div",{className:"w-full flex gap-5 justify-center flex-wrap mb-5",children:[1,2,3,4,5].map(t=>e.jsx("div",{className:"h-10 w-24 bg-slate-700/50 rounded-lg animate-pulse"},t))}),y=async()=>{try{const t=await fetch(h.reports.cronograma);if(!t.ok)throw new Error("Error en la respuesta de la API");return(await t.json()).map(a=>({day:a.day,date:a.date,early:a.early.map(s=>({id:s.id,topic:s.topic,start:s.start,end:s.end,type:s.type,isMorning:s.isMorning,speaker:s.speaker,idSpeaker:s.idSpeaker,country:s.country,description:s.description,avatar:s.avatar})),late:a.late.map(s=>({id:s.id,topic:s.topic,start:s.start,end:s.end,type:s.type,isMorning:s.isMorning,speaker:s.speaker,idSpeaker:s.idSpeaker,country:s.country,description:s.description,avatar:s.avatar}))}))}catch(t){console.error("Error al obtener los datos de los speakers:",t)}},k=()=>{const[t,r]=x.useState([]),[n,a]=x.useState(!0),[s,m]=x.useState(0),d=async()=>{try{a(!0);const l=await y();l?r(l):console.error("No data returned from the API")}catch(l){console.error("Error fetching data:",l)}finally{a(!1)}};return x.useEffect(()=>{d()},[]),e.jsxs("section",{id:"schedules",className:"w-full flex flex-col items-center mb-24 max-w-screen-md mx-auto pt-40 sm:pt-48",children:[e.jsx("h2",{className:"text-4xl font-bold text-center text-secondary sm:text-6xl slide-top leading-relaxed sm:leading-loose",children:"Cronograma"}),e.jsxs("p",{className:"text-center text-base mb-8 mt-8",children:["Todas las charlas estan en directo por"," ",e.jsx("a",{href:"https://www.facebook.com/61556532988025/live_videos/",target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xl text-blue-300",children:"Facebook"})]}),n?e.jsx(N,{}):e.jsx("div",{className:"w-full flex gap-5 justify-center flex-wrap mb-5",children:t?.map((l,c)=>e.jsx("button",{className:`px-6 py-2 rounded-lg cursor-pointer font-semibold transition-colors ${s===c?"bg-blue-600 text-slate-200":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,onClick:()=>m(c),children:l.day.charAt(0).toUpperCase()+l.day.slice(1)},l.day))}),e.jsx("div",{className:"w-full",children:n?e.jsx(b,{}):t[s]&&e.jsx(j,{day:t[s].day||"",ponentes:t[s],date:t[s].date})})]})};export{k as default};
